; SPIR-V
; Version: 1.3
; Generator: Google Tint Compiler; 1
; Bound: 232
; Schema: 0
               OpCapability Shader
         %77 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint GLCompute %main "main" %main_local_invocation_id_Input %main_local_invocation_index_Input
               OpExecutionMode %main LocalSize 32 1 1
               OpMemberName %S 0 "field0"
               OpMemberName %S 1 "field1"
               OpName %S "S"
               OpName %x_28 "x_28"
               OpName %x_34 "x_34"
               OpName %x_35 "x_35"
               OpName %x_36 "x_36"
               OpName %x_37 "x_37"
               OpName %x_3 "x_3"
               OpMemberName %S_1 0 "field0"
               OpName %S_1 "S_1"
               OpMemberName %S_2 0 "field0"
               OpName %S_2 "S_2"
               OpMemberName %x_6_block 0 "inner"
               OpName %x_6_block "x_6_block"
               OpMemberName %S_3 0 "field0"
               OpName %S_3 "S_3"
               OpName %x_9 "x_9"
               OpMemberName %S_4 0 "field0"
               OpName %S_4 "S_4"
               OpName %x_12 "x_12"
               OpName %main_local_invocation_id_Input "main_local_invocation_id_Input"
               OpName %main_local_invocation_index_Input "main_local_invocation_index_Input"
               OpName %main_1 "main_1"
               OpName %x_54 "x_54"
               OpName %x_58 "x_58"
               OpName %x_85 "x_85"
               OpName %x_88 "x_88"
               OpName %x_52 "x_52"
               OpName %x_55 "x_55"
               OpName %x_62 "x_62"
               OpName %x_67 "x_67"
               OpName %x_74 "x_74"
               OpName %x_76 "x_76"
               OpName %x_80 "x_80"
               OpName %x_81 "x_81"
               OpName %x_82 "x_82"
               OpName %x_111 "x_111"
               OpName %x_86 "x_86"
               OpName %x_89 "x_89"
               OpName %x_90 "x_90"
               OpName %x_94 "x_94"
               OpName %x_99 "x_99"
               OpName %x_101 "x_101"
               OpName %x_103_1 "x_103_1"
               OpName %x_103 "x_103"
               OpName %x_105_1 "x_105_1"
               OpName %x_105 "x_105"
               OpName %x_107 "x_107"
               OpName %x_109_1 "x_109_1"
               OpName %x_114 "x_114"
               OpName %x_117 "x_117"
               OpName %x_120 "x_120"
               OpName %x_123 "x_123"
               OpName %main_inner "main_inner"
               OpName %x_3_param "x_3_param"
               OpName %tint_local_index "tint_local_index"
               OpName %main "main"
               OpMemberDecorate %S 0 Offset 0
               OpMemberDecorate %S 1 Offset 8
               OpDecorate %_arr_S_uint_4096 ArrayStride 16
               OpMemberDecorate %S_1 0 Offset 0
               OpMemberDecorate %S_2 0 Offset 0
               OpMemberDecorate %x_6_block 0 Offset 0
               OpDecorate %x_6_block Block
               OpDecorate %18 DescriptorSet 0
               OpDecorate %18 Binding 1
               OpDecorate %18 NonWritable
               OpDecorate %_runtimearr_v4float ArrayStride 16
               OpMemberDecorate %S_3 0 Offset 0
               OpDecorate %S_3 Block
               OpDecorate %x_9 DescriptorSet 0
               OpDecorate %x_9 Binding 2
               OpDecorate %x_9 NonWritable
               OpMemberDecorate %S_4 0 Offset 0
               OpDecorate %S_4 Block
               OpDecorate %x_12 DescriptorSet 0
               OpDecorate %x_12 Binding 3
               OpDecorate %x_12 Coherent
               OpDecorate %main_local_invocation_id_Input BuiltIn LocalInvocationId
               OpDecorate %main_local_invocation_index_Input BuiltIn LocalInvocationIndex
      %float = OpTypeFloat 32
    %v2float = OpTypeVector %float 2
       %uint = OpTypeInt 32 0
          %S = OpTypeStruct %v2float %uint
  %uint_4096 = OpConstant %uint 4096
%_arr_S_uint_4096 = OpTypeArray %S %uint_4096
%_ptr_Workgroup__arr_S_uint_4096 = OpTypePointer Workgroup %_arr_S_uint_4096
       %x_28 = OpVariable %_ptr_Workgroup__arr_S_uint_4096 Workgroup
%_ptr_Workgroup_uint = OpTypePointer Workgroup %uint
       %x_34 = OpVariable %_ptr_Workgroup_uint Workgroup
       %x_35 = OpVariable %_ptr_Workgroup_uint Workgroup
       %x_36 = OpVariable %_ptr_Workgroup_uint Workgroup
       %x_37 = OpVariable %_ptr_Workgroup_uint Workgroup
     %v3uint = OpTypeVector %uint 3
%_ptr_Private_v3uint = OpTypePointer Private %v3uint
         %17 = OpConstantNull %v3uint
        %x_3 = OpVariable %_ptr_Private_v3uint Private %17
        %S_1 = OpTypeStruct %uint
        %S_2 = OpTypeStruct %S_1
  %x_6_block = OpTypeStruct %S_2
%_ptr_Uniform_x_6_block = OpTypePointer Uniform %x_6_block
         %18 = OpVariable %_ptr_Uniform_x_6_block Uniform
    %v4float = OpTypeVector %float 4
%_runtimearr_v4float = OpTypeRuntimeArray %v4float
        %S_3 = OpTypeStruct %_runtimearr_v4float
%_ptr_StorageBuffer_S_3 = OpTypePointer StorageBuffer %S_3
        %x_9 = OpVariable %_ptr_StorageBuffer_S_3 StorageBuffer
        %S_4 = OpTypeStruct %_runtimearr_v4float
%_ptr_StorageBuffer_S_4 = OpTypePointer StorageBuffer %S_4
       %x_12 = OpVariable %_ptr_StorageBuffer_S_4 StorageBuffer
%_ptr_Input_v3uint = OpTypePointer Input %v3uint
%main_local_invocation_id_Input = OpVariable %_ptr_Input_v3uint Input
%_ptr_Input_uint = OpTypePointer Input %uint
%main_local_invocation_index_Input = OpVariable %_ptr_Input_uint Input
       %void = OpTypeVoid
         %37 = OpTypeFunction %void
%_ptr_Function_uint = OpTypePointer Function %uint
         %41 = OpConstantNull %uint
%_ptr_Function_v4float = OpTypePointer Function %v4float
         %45 = OpConstantNull %v4float
%_ptr_Private_uint = OpTypePointer Private %uint
     %uint_0 = OpConstant %uint 0
%_ptr_Uniform_uint = OpTypePointer Uniform %uint
       %bool = OpTypeBool
%_ptr_StorageBuffer__runtimearr_v4float = OpTypePointer StorageBuffer %_runtimearr_v4float
     %uint_1 = OpConstant %uint 1
%_ptr_StorageBuffer_v4float = OpTypePointer StorageBuffer %v4float
  %uint_4095 = OpConstant %uint 4095
%_ptr_Workgroup_S = OpTypePointer Workgroup %S
  %float_0_5 = OpConstant %float 0.5
    %uint_32 = OpConstant %uint 32
     %uint_2 = OpConstant %uint 2
   %uint_264 = OpConstant %uint 264
        %int = OpTypeInt 32 1
%_ptr_Workgroup_v2float = OpTypePointer Workgroup %v2float
     %v2uint = OpTypeVector %uint 2
%_ptr_Function_float = OpTypePointer Function %float
     %uint_3 = OpConstant %uint 3
%_ptr_StorageBuffer__runtimearr_v4float_0 = OpTypePointer StorageBuffer %_runtimearr_v4float
      %int_0 = OpConstant %int 0
%_ptr_StorageBuffer_v4float_0 = OpTypePointer StorageBuffer %v4float
        %204 = OpTypeFunction %void %v3uint %uint
        %224 = OpConstantNull %S
     %main_1 = OpFunction %void None %37
         %38 = OpLabel
       %x_54 = OpVariable %_ptr_Function_uint Function %41
       %x_58 = OpVariable %_ptr_Function_uint Function %41
       %x_85 = OpVariable %_ptr_Function_v4float Function %45
       %x_88 = OpVariable %_ptr_Function_uint Function %41
       %x_55 = OpVariable %_ptr_Function_uint Function %41
      %x_111 = OpVariable %_ptr_Function_v4float Function %45
       %x_86 = OpVariable %_ptr_Function_v4float Function %45
       %x_89 = OpVariable %_ptr_Function_uint Function %41
    %x_103_1 = OpVariable %_ptr_Function_v4float Function
    %x_105_1 = OpVariable %_ptr_Function_v4float Function
    %x_109_1 = OpVariable %_ptr_Function_v4float Function
         %47 = OpAccessChain %_ptr_Private_uint %x_3 %uint_0
       %x_52 = OpLoad %uint %47 None
               OpStore %x_54 %uint_0 None
               OpBranch %53
         %53 = OpLabel
               OpLoopMerge %54 %52 None
               OpBranch %51
         %51 = OpLabel
         %56 = OpAccessChain %_ptr_Uniform_uint %18 %uint_0 %uint_0 %uint_0
         %58 = OpLoad %uint %56 None
               OpStore %x_58 %58 None
         %59 = OpLoad %uint %x_54 None
         %60 = OpLoad %uint %x_58 None
         %61 = OpULessThan %bool %59 %60
               OpSelectionMerge %63 None
               OpBranchConditional %61 %63 %64
         %64 = OpLabel
               OpBranch %54
         %63 = OpLabel
         %65 = OpLoad %uint %x_54 None
       %x_62 = OpIAdd %uint %65 %x_52
         %67 = OpLoad %uint %x_58 None
         %68 = OpUGreaterThanEqual %bool %x_62 %67
               OpSelectionMerge %69 None
               OpBranchConditional %68 %70 %69
         %70 = OpLabel
         %71 = OpAccessChain %_ptr_StorageBuffer__runtimearr_v4float %x_9 %uint_0
         %73 = OpArrayLength %uint %x_9 0
         %74 = OpISub %uint %73 %uint_1
         %76 = OpExtInst %uint %77 UMin %x_62 %74
         %78 = OpAccessChain %_ptr_StorageBuffer_v4float %x_9 %uint_0 %76
       %x_67 = OpLoad %v4float %78 None
         %81 = OpExtInst %uint %77 UMin %x_62 %uint_4095
         %83 = OpAccessChain %_ptr_Workgroup_S %x_28 %81
         %85 = OpVectorShuffle %v2float %x_67 %x_67 0 1
         %86 = OpVectorShuffle %v2float %x_67 %x_67 2 3
         %87 = OpFAdd %v2float %85 %86
         %88 = OpVectorTimesScalar %v2float %87 %float_0_5
         %90 = OpCompositeConstruct %S %88 %x_62
               OpStore %83 %90 None
               OpBranch %69
         %69 = OpLabel
               OpBranch %52
         %52 = OpLabel
         %91 = OpLoad %uint %x_54 None
         %92 = OpIAdd %uint %91 %uint_32
               OpStore %x_55 %92 None
         %94 = OpLoad %uint %x_55 None
               OpStore %x_54 %94 None
               OpBranch %53
         %54 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
         %98 = OpLoad %uint %x_58 None
       %x_74 = OpBitcast %int %98
        %101 = OpAccessChain %_ptr_Workgroup_v2float %x_28 %uint_0 %uint_0
       %x_76 = OpLoad %v2float %101 None
        %104 = OpIEqual %bool %x_52 %uint_0
               OpSelectionMerge %105 None
               OpBranchConditional %104 %106 %105
        %106 = OpLabel
       %x_80 = OpBitcast %v2uint %x_76
       %x_81 = OpCompositeExtract %uint %x_80 0
               OpAtomicStore %x_34 %uint_2 %uint_0 %x_81
       %x_82 = OpCompositeExtract %uint %x_80 1
               OpAtomicStore %x_35 %uint_2 %uint_0 %x_82
               OpAtomicStore %x_36 %uint_2 %uint_0 %x_81
               OpAtomicStore %x_37 %uint_2 %uint_0 %x_82
               OpBranch %105
        %105 = OpLabel
        %115 = OpVectorShuffle %v4float %x_76 %x_76 0 1 0 1
               OpStore %x_85 %115 None
               OpStore %x_88 %uint_1 None
               OpBranch %118
        %118 = OpLabel
               OpLoopMerge %119 %117 None
               OpBranch %116
        %116 = OpLabel
       %x_90 = OpBitcast %uint %x_74
        %124 = OpLoad %uint %x_88 None
        %125 = OpULessThan %bool %124 %x_90
               OpSelectionMerge %126 None
               OpBranchConditional %125 %126 %127
        %127 = OpLabel
               OpBranch %119
        %126 = OpLabel
        %128 = OpLoad %uint %x_88 None
       %x_94 = OpIAdd %uint %128 %x_52
        %130 = OpLoad %v4float %x_85 None
               OpStore %x_86 %130 None
        %131 = OpUGreaterThanEqual %bool %x_94 %x_90
               OpSelectionMerge %132 None
               OpBranchConditional %131 %133 %132
        %133 = OpLabel
        %134 = OpExtInst %uint %77 UMin %x_94 %uint_4095
        %135 = OpAccessChain %_ptr_Workgroup_v2float %x_28 %134 %uint_0
       %x_99 = OpLoad %v2float %135 None
        %137 = OpLoad %v4float %x_85 None
        %138 = OpVectorShuffle %v2float %137 %137 0 1
      %x_101 = OpExtInst %v2float %77 FMin %138 %x_99
        %140 = OpLoad %v4float %x_85 None
               OpStore %x_103_1 %140
        %142 = OpCompositeExtract %float %x_101 0
        %143 = OpAccessChain %_ptr_Function_float %x_103_1 %uint_0
               OpStore %143 %142 None
      %x_103 = OpLoad %v4float %x_103_1 None
               OpStore %x_105_1 %x_103
        %147 = OpCompositeExtract %float %x_101 1
        %148 = OpAccessChain %_ptr_Function_float %x_105_1 %uint_1
               OpStore %148 %147 None
      %x_105 = OpLoad %v4float %x_105_1 None
        %150 = OpLoad %v4float %x_105_1 None
        %151 = OpVectorShuffle %v2float %150 %150 2 3
      %x_107 = OpExtInst %v2float %77 FMax %151 %x_99
               OpStore %x_109_1 %x_105
        %154 = OpCompositeExtract %float %x_107 0
        %155 = OpAccessChain %_ptr_Function_float %x_109_1 %uint_2
               OpStore %155 %154 None
        %156 = OpLoad %v4float %x_109_1 None
               OpStore %x_111 %156 None
        %157 = OpCompositeExtract %float %x_107 1
        %158 = OpAccessChain %_ptr_Function_float %x_111 %uint_3
               OpStore %158 %157 None
        %160 = OpLoad %v4float %x_111 None
               OpStore %x_86 %160 None
               OpBranch %132
        %132 = OpLabel
               OpBranch %117
        %117 = OpLabel
        %161 = OpLoad %uint %x_88 None
        %162 = OpIAdd %uint %161 %uint_32
               OpStore %x_89 %162 None
        %163 = OpLoad %v4float %x_86 None
               OpStore %x_85 %163 None
        %164 = OpLoad %uint %x_89 None
               OpStore %x_88 %164 None
               OpBranch %118
        %119 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %166 = OpAccessChain %_ptr_Function_float %x_85 %uint_0
        %167 = OpLoad %float %166 None
        %168 = OpBitcast %uint %167
      %x_114 = OpAtomicUMin %uint %x_34 %uint_2 %uint_0 %168
        %170 = OpAccessChain %_ptr_Function_float %x_85 %uint_1
        %171 = OpLoad %float %170 None
        %172 = OpBitcast %uint %171
      %x_117 = OpAtomicUMin %uint %x_35 %uint_2 %uint_0 %172
        %174 = OpAccessChain %_ptr_Function_float %x_85 %uint_2
        %175 = OpLoad %float %174 None
        %176 = OpBitcast %uint %175
      %x_120 = OpAtomicUMax %uint %x_36 %uint_2 %uint_0 %176
        %178 = OpAccessChain %_ptr_Function_float %x_85 %uint_3
        %179 = OpLoad %float %178 None
        %180 = OpBitcast %uint %179
      %x_123 = OpAtomicUMax %uint %x_37 %uint_2 %uint_0 %180
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %183 = OpAccessChain %_ptr_StorageBuffer__runtimearr_v4float_0 %x_12 %uint_0
        %185 = OpArrayLength %uint %x_12 0
        %186 = OpISub %uint %185 %uint_1
        %187 = OpBitcast %uint %int_0
        %189 = OpExtInst %uint %77 UMin %187 %186
        %190 = OpAccessChain %_ptr_StorageBuffer_v4float_0 %x_12 %uint_0 %189
        %192 = OpAtomicLoad %uint %x_34 %uint_2 %uint_0
        %193 = OpBitcast %float %192
        %194 = OpAtomicLoad %uint %x_35 %uint_2 %uint_0
        %195 = OpBitcast %float %194
        %196 = OpAtomicLoad %uint %x_36 %uint_2 %uint_0
        %197 = OpBitcast %float %196
        %198 = OpAtomicLoad %uint %x_37 %uint_2 %uint_0
        %199 = OpBitcast %float %198
        %200 = OpCompositeConstruct %v4float %193 %195 %197 %199
               OpStore %190 %200 None
               OpReturn
               OpFunctionEnd
 %main_inner = OpFunction %void None %204
  %x_3_param = OpFunctionParameter %v3uint
%tint_local_index = OpFunctionParameter %uint
        %205 = OpLabel
        %206 = OpULessThan %bool %tint_local_index %uint_1
               OpSelectionMerge %207 None
               OpBranchConditional %206 %208 %207
        %208 = OpLabel
               OpAtomicStore %x_34 %uint_2 %uint_0 %uint_0
               OpAtomicStore %x_35 %uint_2 %uint_0 %uint_0
               OpAtomicStore %x_36 %uint_2 %uint_0 %uint_0
               OpAtomicStore %x_37 %uint_2 %uint_0 %uint_0
               OpBranch %207
        %207 = OpLabel
               OpBranch %213
        %213 = OpLabel
               OpBranch %216
        %216 = OpLabel
        %218 = OpPhi %uint %tint_local_index %213 %219 %215
               OpLoopMerge %217 %215 None
               OpBranch %214
        %214 = OpLabel
        %220 = OpUGreaterThanEqual %bool %218 %uint_4096
               OpSelectionMerge %221 None
               OpBranchConditional %220 %222 %221
        %222 = OpLabel
               OpBranch %217
        %221 = OpLabel
        %223 = OpAccessChain %_ptr_Workgroup_S %x_28 %218
               OpStore %223 %224 None
               OpBranch %215
        %215 = OpLabel
        %219 = OpIAdd %uint %218 %uint_32
               OpBranch %216
        %217 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
               OpStore %x_3 %x_3_param None
        %226 = OpFunctionCall %void %main_1
               OpReturn
               OpFunctionEnd
       %main = OpFunction %void None %37
        %228 = OpLabel
        %229 = OpLoad %v3uint %main_local_invocation_id_Input None
        %230 = OpLoad %uint %main_local_invocation_index_Input None
        %231 = OpFunctionCall %void %main_inner %229 %230
               OpReturn
               OpFunctionEnd
